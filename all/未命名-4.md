```mermaid
flowchart TD
    A[开始] --> B[进入销售管理菜单]
    B --> C{选择操作类型}
    C -->|1. 新建销售订单| D[输入会员ID（可选）]
    D --> E{是否输入会员ID?}
    E -->|是| F[验证会员有效性]
    E -->|否| G[添加图书商品]
    F -->|有效| G
    F -->|无效| H[提示"会员ID无效"，返回D]
    G --> I[输入图书ID和购买数量]
    I --> J[检查库存是否充足]
    J -->|不足| K[提示"库存不足"，返回I]
    J -->|充足| L[计算小计，加入订单明细]
    L --> M{是否继续添加商品?}
    M -->|是| I
    M -->|否| N[确认订单信息]
    N --> O[选择支付方式]
    O --> P[生成订单编号，保存订单]
    P --> Q[扣减对应图书库存]
    Q --> R{是否为会员?}
    R -->|是| S[更新会员积分]
    R -->|否| T[显示订单成功信息]
    S --> T
    T --> U[返回主菜单]
    
    C -->|2. 查看销售记录| V{选择查询方式}
    V -->|全部记录| W[展示所有订单列表]
    V -->|按日期范围| X[输入开始/结束日期，展示订单]
    V -->|按会员| Y[输入会员ID，展示该会员订单]
    W & X & Y --> Z[选择订单查看详情]
    Z --> U
    
    C -->|3. 销售统计| AA[展示销售额/订单数/销售TOP榜]
    AA --> U
    
    C -->|4. 返回主菜单| AB[结束]
    U --> AB
```